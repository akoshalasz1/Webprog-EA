<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Web-programoz√°s-1 El≈ëad√°s H√°zi feladat</title>
    <link rel="stylesheet" href="style.css">
    <script src="worker.js"></script>
</head>
<body>
    <header>
        <h1 class="header">Web-programoz√°s-1 El≈ëad√°s H√°zi feladat</h1>
    </header>
    <nav>
        <a href="index.html">F≈ëoldal</a>
        <a href="tablazat.html">T√°bl√°zat</a>
        <a href="html5.html">HTML5</a>
        <a href="chartjs.html">ChartJS</a>
        <a href="#">Ajax</a>
        <a href="#">OOJS</a>
    </nav>
<div id="feladatok">
    <h3>Web Storage p√©lda</h3>
<input id="nameInput" placeholder="√çrj be egy nevet">
<button onclick="saveName()">Ment√©s</button>
<p id="storedName"></p>

<script>
  function saveName() {
    const name = document.getElementById("nameInput").value;
    localStorage.setItem("username", name);
    showName();
  }

  function showName() {
    const name = localStorage.getItem("username");
    document.getElementById("storedName").textContent = "T√°rolt n√©v: " + (name || "Nincs n√©v elmentve");
  }

  showName(); // friss√≠t√©skor is megjelenik
</script>


<h3>Web Worker p√©lda</h3>
<button onclick="startWorker()">Sz√°mol√°s ind√≠t√°sa</button>
<p id="result">Eredm√©ny: </p>

<script>
  let worker;

  function startWorker() {
    if (typeof(Worker) !== "undefined") {
      if (!worker) {
        worker = new Worker("worker.js");
        worker.onmessage = function(e) {
          document.getElementById("result").textContent = "Eredm√©ny: " + e.data;
        };
      }
      worker.postMessage("start"); // trigger
    } else {
      document.getElementById("result").textContent = "A b√∂ng√©sz≈ëd nem t√°mogatja a Workereket.";
    }
  }
</script>



<h3>Geolocation p√©lda</h3>
<button onclick="getLocation()">Helyzet lek√©r√©se</button>
<p id="locationInfo"></p>

<script>
  function getLocation() {
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function(pos) {
        document.getElementById("locationInfo").textContent =
          `Sz√©less√©g: ${pos.coords.latitude}, Hossz√∫s√°g: ${pos.coords.longitude}`;
      }, () => {
        document.getElementById("locationInfo").textContent = "Hozz√°f√©r√©s megtagadva vagy hiba.";
      });
    } else {
      document.getElementById("locationInfo").textContent = "A b√∂ng√©sz≈ë nem t√°mogatja.";
    }
  }
</script>

<h3>Server-Sent Events p√©lda</h3>
<div id="sseBox">V√°rakoz√°s az adatokra...</div>

<script>
  if (!!window.EventSource) {
    const source = new EventSource("/sse"); // szervernek ezt kell kiszolg√°lnia
    source.onmessage = function(event) {
      document.getElementById("sseBox").textContent = "√úzenet: " + event.data;
    };
  } else {
    document.getElementById("sseBox").textContent = "A b√∂ng√©sz≈ë nem t√°mogatja az SSE-t.";
  }
</script>

<h3>Drag and Drop p√©lda</h3>

<!-- H√∫zhat√≥ doboz -->
<div id="dragBox" draggable="true"
     style="width:100px;height:100px;background:red;cursor:grab;">
</div>

<!-- C√©lter√ºlet -->
<div id="dropZone"
     style="width:300px;height:200px;border:2px dashed #333;margin-top:20px;transition:0.3s;">
  H√∫zd ide a piros dobozt!
</div>

<script>
  const dragBox = document.getElementById("dragBox");
  const dropZone = document.getElementById("dropZone");

  // Elindul a h√∫z√°s
  dragBox.addEventListener("dragstart", (e) => {
    e.dataTransfer.setData("text/plain", "dragBox");
  });

  // A c√©lter√ºlet enged√©lyezi a dob√°st
  dropZone.addEventListener("dragover", (e) => {
    e.preventDefault();
  });

  // Ha beleh√∫zzuk a dobozt
  dropZone.addEventListener("drop", (e) => {
    e.preventDefault();
    const draggedId = e.dataTransfer.getData("text/plain");
    if (draggedId === "dragBox") {
      dropZone.style.backgroundColor = "red";
      dropZone.style.color = "white";
      dropZone.textContent = "Sikeres drop! üéâ";
    }
  });
</script>


<h3>Canvas p√©lda</h3>
<canvas id="drawCanvas" width="400" height="300" style="border:1px solid black;"></canvas>

<script>
  const canvas = document.getElementById("drawCanvas");
  const ctx = canvas.getContext("2d");
  let drawing = false;

  canvas.addEventListener("mousedown", () => drawing = true);
  canvas.addEventListener("mouseup", () => drawing = false);
  canvas.addEventListener("mousemove", draw);

  function draw(event) {
    if (!drawing) return;

    const x = event.offsetX;
    const y = event.offsetY;

    ctx.fillStyle = "black";
    ctx.beginPath();
    ctx.arc(x, y, 2, 0, Math.PI * 2);
    ctx.fill();
  }
</script>


<h3>SVG p√©lda</h3>
<svg width="200" height="200">
  <circle cx="100" cy="100" r="80" fill="orange" stroke="black" stroke-width="2"/>
  <text x="100" y="105" font-size="20" text-anchor="middle" fill="black">SVG</text>
</svg>
</div>
</body>
</html>
